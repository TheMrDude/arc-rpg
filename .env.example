# ARC RPG Environment Variables
# Copy this file to .env.local and fill in your actual values

# Supabase Configuration
# Get these from https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# IMPORTANT: This is a sensitive key - only use server-side!
# Required for: app/api/create-checkout/route.js, app/api/stripe-webhook/route.js
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Stripe Configuration
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key

# Webhook secret - get this from Stripe webhook settings
# Required for: app/api/stripe-webhook/route.js
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Anthropic API Configuration
# Get this from https://console.anthropic.com/
# Required for: app/api/transform-quest/route.js
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Setup Instructions

# 1. Copy this file:
#    cp .env.example .env.local

# 2. Fill in all the values above with your actual credentials

# 3. Setup Stripe webhook:
#    - Go to https://dashboard.stripe.com/webhooks
#    - Click "Add endpoint"
#    - URL: https://your-domain.com/api/stripe-webhook
#    - Events to send: checkout.session.completed
#    - Copy the webhook signing secret to STRIPE_WEBHOOK_SECRET

# 4. Run Supabase migrations:
#    - Go to your Supabase SQL Editor
#    - Copy the contents of supabase-migrations.sql
#    - Run the SQL commands

# 5. Configure Supabase Auth:
#    - Enable Email auth in Supabase Dashboard
#    - Set up email templates
#    - Configure redirect URLs

# Security Notes

# NEVER commit .env.local to git!
# The .gitignore file should already exclude it

# NEVER expose SUPABASE_SERVICE_ROLE_KEY in client-side code
# Only use it in API routes (app/api/*)

# NEVER expose STRIPE_SECRET_KEY or STRIPE_WEBHOOK_SECRET
# Only use them in API routes

# For local development with Stripe webhooks:
# Use Stripe CLI: stripe listen --forward-to localhost:3000/api/stripe-webhook
